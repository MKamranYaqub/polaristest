/* ============================================
   DARK MODE THEME STYLES - REFACTORED
   ============================================ */

/* ============================================
   1. CSS VARIABLES
   ============================================ */
:root[data-carbon-theme="g100"],
.dark-mode {
  /* Background Colors */
  --token-layer-background: #161616;
  --token-layer-surface: #262626;
  --token-layer-surface-hover: #333333;
  --token-layer-active: #4b4b4b;
  
  /* Border Colors */
  --token-border-subtle: #393939;
  --token-border-strong: #525252;
  
  /* Text Colors */
  --token-text-primary: #f4f4f4;
  --token-text-secondary: #c6c6c6;
  --token-text-placeholder: #6f6f6f;
  
  /* Interactive Colors */
  --token-interactive: #78a9ff;
  --token-interactive-hover: #a6c8ff;
  --token-interactive-brand: #0f62fe;
  --token-interactive-brand-hover: #0353e9;
  
  /* Status Colors */
  --token-success: #42be65;
  --token-success-bg: #1f3a1f;
  --token-success-text: #b3ffb3;
  --token-error: #ff8389;
  --token-error-bg: #3a1f1f;
  --token-error-text: #ffb3b3;
  --token-warning-bg: #3a321f;
  --token-warning-text: #ffd9b3;
  --token-danger: #da1e28;
  --token-danger-hover: #ba1b23;
  
  /* Special Purpose */
  --token-first-charge-warning: #3d2e00;
  --token-shadow-soft: 0 1px 2px rgba(0, 0, 0, 0.6);
  --token-shadow-modal: 0 2px 12px 0 rgba(0, 0, 0, 0.8);
  --token-focus-ring: rgba(120, 169, 255, 0.3);
}

/* ============================================
   2. BASE ELEMENTS
   ============================================ */
.dark-mode body,
.dark-mode #root,
body.dark-mode,
body.dark-mode #root {
  background-color: var(--token-layer-background) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode h1,
.dark-mode h2,
.dark-mode h3,
.dark-mode h4,
.dark-mode h5,
.dark-mode h6 {
  color: var(--token-text-primary) !important;
}

.dark-mode p {
  color: var(--token-text-secondary);
}

.dark-mode a {
  color: var(--token-interactive) !important;
}

.dark-mode a:hover {
  color: var(--token-interactive-hover) !important;
}

.dark-mode hr,
.dark-mode .slds-border_top,
.dark-mode .slds-border_bottom {
  border-color: var(--token-border-subtle) !important;
}

.dark-mode code,
.dark-mode pre {
  background-color: var(--token-layer-background) !important;
  border: 1px solid var(--token-border-subtle) !important;
  color: var(--token-text-primary) !important;
}

/* ============================================
   3. LAYOUT COMPONENTS
   ============================================ */
.dark-mode .app-shell {
  background-color: var(--token-layer-background) !important;
}

.dark-mode .app-header {
  background-color: var(--token-layer-surface) !important;
  border-bottom-color: var(--token-border-subtle) !important;
  box-shadow: var(--token-shadow-soft);
}

.dark-mode .app-header__title {
  color: var(--token-text-primary) !important;
}

.dark-mode .app-layout {
  background-color: var(--token-layer-background) !important;
}

.dark-mode .app-content {
  background-color: transparent !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .app-card {
  background-color: var(--token-layer-surface) !important;
  border-color: var(--token-border-subtle) !important;
  color: var(--token-text-primary) !important;
}

/* Navigation */
.dark-mode nav {
  background-color: var(--token-layer-surface) !important;
  border-right-color: var(--token-border-subtle) !important;
}

.dark-mode nav a {
  color: var(--token-text-primary) !important;
}

.dark-mode nav a:hover {
  background-color: var(--token-layer-surface-hover) !important;
  color: var(--token-interactive-hover) !important;
}

/* ============================================
   4. FORMS
   ============================================ */
.dark-mode .slds-form-element__label,
.dark-mode .slds-text-heading_small,
.dark-mode .slds-text-heading_medium,
.dark-mode .slds-text-body_small {
  color: var(--token-text-primary) !important;
}

.dark-mode .slds-input,
.dark-mode .slds-textarea,
.dark-mode .slds-select,
.dark-mode select,
.dark-mode input[type="text"],
.dark-mode input[type="date"],
.dark-mode input[type="search"],
.dark-mode input[type="email"],
.dark-mode input[type="number"],
.dark-mode input[type="password"] {
  background-color: var(--token-layer-background) !important;
  border-color: var(--token-border-strong) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .slds-input:focus,
.dark-mode .slds-textarea:focus,
.dark-mode .slds-select:focus,
.dark-mode select:focus,
.dark-mode input[type="text"]:focus,
.dark-mode input[type="date"]:focus,
.dark-mode input[type="search"]:focus,
.dark-mode input[type="email"]:focus,
.dark-mode input[type="number"]:focus,
.dark-mode input[type="password"]:focus {
  border-color: var(--token-interactive) !important;
  background-color: var(--token-layer-surface) !important;
  color: var(--token-text-primary) !important;
  outline: none;
  box-shadow: 0 0 0 2px var(--token-focus-ring);
}

.dark-mode .slds-input::placeholder,
.dark-mode .slds-textarea::placeholder,
.dark-mode input::placeholder {
  color: var(--token-text-placeholder) !important;
}

.dark-mode select option {
  background-color: var(--token-layer-surface) !important;
  color: var(--token-text-primary) !important;
}

/* Checkboxes and Radio Buttons */
.dark-mode input[type="checkbox"],
.dark-mode input[type="radio"] {
  border-color: var(--token-border-strong) !important;
  background-color: var(--token-layer-background) !important;
}

.dark-mode input[type="checkbox"]:checked,
.dark-mode input[type="radio"]:checked {
  background-color: var(--token-interactive-brand) !important;
  border-color: var(--token-interactive-brand) !important;
}

/* Date Picker */
.dark-mode input[type="date"]::-webkit-calendar-picker-indicator {
  filter: invert(1);
  cursor: pointer;
}

/* Helper Text */
.dark-mode .slds-form-element__help,
.dark-mode .help-text,
.dark-mode .helper-text {
  color: var(--token-text-secondary) !important;
}

.dark-mode .slds-required {
  color: var(--token-error) !important;
}

/* Form Containers */
.dark-mode .modal-form input,
.dark-mode .modal-form select,
.dark-mode .modal-form textarea {
  background-color: var(--token-layer-background) !important;
  border: 1px solid var(--token-border-strong) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .modal-form input:focus,
.dark-mode .modal-form select:focus,
.dark-mode .modal-form textarea:focus {
  border-color: var(--token-interactive) !important;
  background-color: var(--token-layer-surface) !important;
}

.dark-mode .modal-form label {
  color: var(--token-text-primary) !important;
}

/* ============================================
   5. BUTTONS
   ============================================ */
.dark-mode .slds-button_neutral,
.dark-mode button[type="button"]:not(.slds-button_brand):not(.slds-button_icon) {
  background-color: var(--token-border-subtle) !important;
  border-color: var(--token-border-strong) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .slds-button_neutral:hover,
.dark-mode button[type="button"]:not(.slds-button_brand):not(.slds-button_icon):hover {
  background-color: #4c4c4c !important;
}

.dark-mode .slds-button_brand {
  background-color: var(--token-interactive-brand) !important;
  border-color: var(--token-interactive-brand) !important;
  color: #ffffff !important;
}

.dark-mode .slds-button_brand:hover {
  background-color: var(--token-interactive-brand-hover) !important;
}

/* Icon Buttons */
.dark-mode .slds-button_icon,
.dark-mode .slds-button_icon-border,
.dark-mode .slds-button_icon-border-filled,
.dark-mode .slds-button_icon-container {
  background-color: var(--token-border-subtle) !important;
  border-color: var(--token-border-strong) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .slds-button_icon:hover,
.dark-mode .slds-button_icon-border:hover,
.dark-mode .slds-button_icon-border-filled:hover,
.dark-mode .slds-button_icon-container:hover {
  background-color: #4c4c4c !important;
  border-color: #6f6f6f !important;
}

.dark-mode .slds-button_icon svg,
.dark-mode .slds-button_icon-border svg,
.dark-mode .slds-button_icon-border-filled svg {
  fill: var(--token-text-primary) !important;
}

.dark-mode .slds-button_icon-inverse {
  background-color: transparent !important;
  color: var(--token-text-primary) !important;
}

/* Special Button Types */
.dark-mode .export-button {
  background-color: var(--token-interactive-brand) !important;
  border-color: var(--token-interactive-brand) !important;
  color: #ffffff !important;
}

.dark-mode .export-button:hover {
  background-color: var(--token-interactive-brand-hover) !important;
}

.dark-mode .load-button {
  background-color: var(--token-border-subtle) !important;
  border: 1px solid var(--token-border-strong) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .load-button:hover {
  background-color: #4c4c4c !important;
}

.dark-mode .delete-button {
  background-color: var(--token-danger) !important;
  border: 1px solid #a2191f !important;
  color: #ffffff !important;
}

.dark-mode .delete-button:hover {
  background-color: var(--token-danger-hover) !important;
}

/* Remove Focus Outlines */
.slds-button:focus,
.slds-button:active,
.slds-button_brand:focus,
.slds-button_brand:active,
.slds-button_neutral:focus,
.slds-button_neutral:active,
.range-button:focus,
.range-button:active,
.switch-track:focus,
.switch-track:active {
  outline: none !important;
  box-shadow: none !important;
}

/* Button Groups */
.dark-mode .slds-button-group .slds-button_brand {
  background: var(--token-interactive-brand) !important;
  border-color: var(--token-interactive-brand) !important;
  color: #ffffff !important;
}

.dark-mode .slds-button-group .slds-button_brand:hover {
  background: var(--token-interactive-brand-hover) !important;
  border-color: var(--token-interactive-brand-hover) !important;
}

/* ============================================
   6. TABLES
   ============================================ */
.dark-mode .slds-table,
.dark-mode .quotes-table {
  background-color: var(--token-layer-surface) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .slds-table thead th,
.dark-mode .quotes-table th {
  background-color: var(--token-layer-surface) !important;
  color: var(--token-text-primary) !important;
  border-bottom-color: var(--token-border-subtle) !important;
}

.dark-mode .slds-table tbody td,
.dark-mode .quotes-table td {
  border-top-color: var(--token-border-subtle) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .slds-table tbody tr:hover,
.dark-mode .quotes-table tr:hover {
  background-color: var(--token-layer-surface-hover) !important;
}

/* Table Striping */
.dark-mode .slds-table tbody tr:nth-child(even) {
  background-color: #1e1e1e !important;
}

.dark-mode .slds-table tbody tr:nth-child(odd) {
  background-color: var(--token-layer-surface) !important;
}

/* Sticky Columns */
.dark-mode .sticky-actions-header,
.dark-mode .sticky-actions-cell {
  background: var(--token-layer-surface) !important;
}

.dark-mode .sticky-actions-header[style*="background: white"],
.dark-mode .sticky-actions-cell[style*="background: white"] {
  background: var(--token-layer-surface) !important;
}

/* ============================================
   7. MODALS & OVERLAYS
   ============================================ */
.dark-mode .slds-modal__container {
  background-color: var(--token-layer-surface) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .slds-modal__header {
  background-color: var(--token-layer-surface) !important;
  border-bottom-color: var(--token-border-subtle) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .slds-modal__content {
  background-color: var(--token-layer-surface) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .slds-modal__footer {
  background-color: var(--token-layer-surface) !important;
  border-top-color: var(--token-border-subtle) !important;
}

.dark-mode .slds-modal__footer > *,
.dark-mode .slds-modal__footer button {
  background-color: transparent !important;
}

.dark-mode .modal-backdrop {
  background-color: rgba(0, 0, 0, 0.7) !important;
}

/* Dropdown Menus */
.dark-mode .slds-dropdown {
  background-color: var(--token-layer-surface) !important;
  border-color: var(--token-border-subtle) !important;
  box-shadow: var(--token-shadow-modal) !important;
}

.dark-mode .slds-dropdown__item-link {
  color: var(--token-text-primary) !important;
}

.dark-mode .slds-dropdown__item-link:hover {
  background-color: var(--token-layer-surface-hover) !important;
}

.dark-mode .slds-border_bottom {
  border-bottom-color: var(--token-border-subtle) !important;
}

/* Notification Modals */
.dark-mode .notification-modal {
  background-color: var(--token-layer-surface) !important;
  border: 1px solid var(--token-border-subtle) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .notification-modal-header {
  background-color: var(--token-layer-surface) !important;
  border-bottom: 1px solid var(--token-border-subtle) !important;
}

.dark-mode .notification-modal-content {
  background-color: var(--token-layer-surface) !important;
}

/* Tooltips */
.dark-mode [title]:hover::after,
.dark-mode .tooltip {
  background-color: var(--token-border-subtle) !important;
  color: var(--token-text-primary) !important;
  border: 1px solid var(--token-border-strong) !important;
}

/* ============================================
   8. NOTIFICATIONS & ALERTS
   ============================================ */
.dark-mode .slds-notify {
  background-color: var(--token-layer-surface) !important;
  border-color: var(--token-border-subtle) !important;
}

.dark-mode .slds-theme_error {
  background-color: var(--token-error-bg) !important;
  color: var(--token-error-text) !important;
}

.dark-mode .slds-theme_success {
  background-color: var(--token-success-bg) !important;
  color: var(--token-success-text) !important;
}

.dark-mode .slds-theme_warning {
  background-color: var(--token-warning-bg) !important;
  color: var(--token-warning-text) !important;
}

/* ============================================
   9. COMPONENT-SPECIFIC STYLES
   ============================================ */

/* Calculator Components */
.dark-mode .calculator-container,
.dark-mode .rates-table-container {
  background-color: var(--token-layer-surface) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .collapsible-header:hover {
  background: var(--token-layer-active) !important;
}

/* Toggle Switches */
.dark-mode .modern-switch .switch-track {
  background: var(--token-border-strong) !important;
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.35);
}

.dark-mode .modern-switch .switch-track .switch-thumb {
  background: #ffffff !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.65);
}

.dark-mode .modern-switch .switch-track.checked {
  background: linear-gradient(90deg, var(--token-interactive-brand), var(--token-interactive-hover)) !important;
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.15);
}

.dark-mode .modern-switch .switch-track.checked .switch-thumb {
  background: #ffffff !important;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.35);
}

/* Range Toggle Buttons */
.dark-mode .range-toggle-buttons .range-button,
:root[data-carbon-theme="g100"] .range-toggle-buttons .range-button {
  background: var(--token-layer-background) !important;
  color: var(--token-text-secondary) !important;
  border-right: 1px solid var(--token-border-strong) !important;
}

.dark-mode .range-toggle-buttons .range-button:last-child,
:root[data-carbon-theme="g100"] .range-toggle-buttons .range-button:last-child {
  border-right: none !important;
}

.dark-mode .range-toggle-buttons .range-button:not(.active):hover,
:root[data-carbon-theme="g100"] .range-toggle-buttons .range-button:not(.active):hover {
  background: var(--token-layer-active) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .range-toggle-buttons .range-button.active,
:root[data-carbon-theme="g100"] .range-toggle-buttons .range-button.active {
  background: var(--token-interactive-brand) !important;
  border-color: var(--token-interactive-brand) !important;
  color: #ffffff !important;
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.1);
}

.dark-mode .range-toggle-buttons .range-button.active:hover,
:root[data-carbon-theme="g100"] .range-toggle-buttons .range-button.active:hover {
  background: var(--token-interactive-brand-hover) !important;
}

/* First Charge Warning */
.dark-mode .first-charge-warning {
  background: var(--token-first-charge-warning) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .first-charge-label {
  color: var(--token-text-primary) !important;
}

.dark-mode .first-charge-hint {
  color: var(--token-text-secondary) !important;
}

/* Quotes Filter Section */
.dark-mode .quotes-filter-section {
  background: var(--token-layer-surface) !important;
  border: 1px solid var(--token-border-subtle) !important;
}

.dark-mode .quotes-showing-count {
  color: var(--token-text-secondary) !important;
}

/* Filter Containers */
.dark-mode .filters-container,
.dark-mode .search-container,
.dark-mode .filter-bar {
  background-color: var(--token-layer-surface) !important;
  border: 1px solid var(--token-border-subtle) !important;
}

/* User Management */
.dark-mode .user-management-container {
  background-color: var(--token-layer-background) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .user-management-header {
  background-color: var(--token-layer-surface) !important;
  border-bottom: 1px solid var(--token-border-subtle) !important;
}

.dark-mode .status-active {
  color: var(--token-success) !important;
}

.dark-mode .status-inactive {
  color: var(--token-error) !important;
}

.dark-mode .access-level-badge {
  background-color: var(--token-border-subtle) !important;
  border: 1px solid var(--token-border-strong) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .actions-cell {
  background-color: transparent !important;
}

/* Pagination */
.dark-mode .pagination,
.dark-mode .pagination-controls {
  background-color: var(--token-layer-surface) !important;
  border-top: 1px solid var(--token-border-subtle) !important;
}

.dark-mode .pagination button {
  background-color: var(--token-border-subtle) !important;
  border: 1px solid var(--token-border-strong) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .pagination button:hover:not(:disabled) {
  background-color: #4c4c4c !important;
}

.dark-mode .pagination button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.dark-mode .pagination span {
  color: var(--token-text-secondary) !important;
}

/* Badges */
.dark-mode .slds-badge {
  border-color: var(--token-border-strong) !important;
}

/* Card Containers */
.dark-mode .card-container {
  background-color: var(--token-layer-surface) !important;
  border: 1px solid var(--token-border-subtle) !important;
  border-radius: 4px;
}

.dark-mode .grid-container {
  background-color: transparent !important;
}

/* Loading States */
.dark-mode .loading-spinner {
  border-color: var(--token-border-subtle) !important;
  border-top-color: var(--token-interactive) !important;
}

.dark-mode .empty-state {
  color: var(--token-text-secondary) !important;
}

/* ============================================
   10. CARBON COMPONENTS
   ============================================ */
.dark-mode .cds--content,
.dark-mode .cds--layer,
.dark-mode .cds--layer-one {
  background-color: var(--token-layer-background) !important;
}

.dark-mode .cds--layer-two {
  background-color: var(--token-layer-surface) !important;
}

.dark-mode .cds--tabs,
.dark-mode .cds--tab-content {
  background-color: transparent !important;
}

.dark-mode .cds--tabs__nav-item {
  color: var(--token-text-secondary) !important;
  border-bottom-color: var(--token-border-subtle) !important;
}

.dark-mode .cds--tabs__nav-item--selected {
  color: var(--token-text-primary) !important;
  border-bottom-color: var(--token-interactive) !important;
}

.dark-mode .cds--toggle__switch {
  background-color: var(--token-border-subtle) !important;
}

.dark-mode .cds--toggle__switch:checked {
  background-color: var(--token-interactive-brand) !important;
}

.dark-mode .cds--radio-button__label {
  color: var(--token-text-primary) !important;
}

.dark-mode .cds--radio-button__appearance {
  border-color: var(--token-border-strong) !important;
}

/* ============================================
   11. SCROLLBARS
   ============================================ */
.dark-mode ::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

.dark-mode ::-webkit-scrollbar-track {
  background: var(--token-layer-surface);
}

.dark-mode ::-webkit-scrollbar-thumb {
  background: var(--token-border-strong);
  border-radius: 6px;
}

.dark-mode ::-webkit-scrollbar-thumb:hover {
  background: #6f6f6f;
}

/* ============================================
   12. ACCESSIBILITY
   ============================================ */
.dark-mode *:focus-visible {
  outline: 2px solid var(--token-interactive) !important;
  outline-offset: 2px;
}

.dark-mode .slds-button:focus-visible,
.dark-mode .range-toggle-buttons .range-button:focus-visible,
.dark-mode .modern-switch .switch-track:focus-visible {
  outline: 1px solid var(--token-interactive-hover) !important;
  outline-offset: 1px !important;
  box-shadow: none !important;
}

/* ============================================
   13. INLINE STYLE OVERRIDES (Last Resort)
   ============================================ */

/* Generic Background Overrides */
.dark-mode div[style*="background: #f3f3f3"],
.dark-mode div[style*="background:#f3f3f3"],
.dark-mode div[style*="backgroundColor: #f3f3f3"],
.dark-mode div[style*="backgroundColor:#f3f3f3"],
.dark-mode div[style*="background-color: #f3f3f3"],
.dark-mode div[style*="background-color:#f3f3f3"],
.dark-mode div[style*="backgroundColor: #f3f2f2"],
.dark-mode div[style*="backgroundColor:#f3f2f2"],
.dark-mode div[style*="background-color: #f3f2f2"],
.dark-mode div[style*="background-color:#f3f2f2"],
.dark-mode div[style*="backgroundColor: rgb(243, 242, 242)"],
.dark-mode div[style*="background-color: rgb(243, 242, 242)"] {
  background-color: var(--token-layer-surface) !important;
}

/* Modal Footer Inline Styles */
.dark-mode .slds-modal__footer[style*="rgb(244, 246, 249)"],
.dark-mode .slds-modal__footer[style*="background: rgb(244, 246, 249)"],
.dark-mode div[style*="background: rgb(244, 246, 249)"] {
  background: var(--token-layer-surface) !important;
}

.dark-mode .slds-modal__footer[style*="rgb(224, 230, 237)"],
.dark-mode .slds-modal__footer[style*="border-top: 1px solid rgb(224, 230, 237)"],
.dark-mode div[style*="border-top: 1px solid rgb(224, 230, 237)"] {
  border-top-color: var(--token-border-subtle) !important;
}

/* Text Color Overrides */
.dark-mode div[style*="color: #666"],
.dark-mode div[style*="color:#666"],
.dark-mode .helper-text[style*="color: #666"] {
  color: var(--token-text-secondary) !important;
}

.dark-mode p[style*="color: #706e6b"],
.dark-mode p[style*="color:#706e6b"],
.dark-mode .slds-text-body_small[style*="color: #706e6b"],
.dark-mode .slds-text-body_small[style*="color:#706e6b"] {
  color: var(--token-text-secondary) !important;
}

.dark-mode .slds-text-body_small strong {
  color: var(--token-text-primary) !important;
}

.dark-mode div[style*="color: red"] {
  color: var(--token-error) !important;
}

/* Border Overrides */
.dark-mode div[style*="borderTop: 1px solid #dddbda"],
.dark-mode div[style*="borderTop:1px solid #dddbda"],
.dark-mode div[style*="border-top: 1px solid #dddbda"],
.dark-mode div[style*="border-top:1px solid #dddbda"] {
  border-top-color: var(--token-border-subtle) !important;
}

/* Demo Credentials Box (Login Page) */
.dark-mode .auth-demo-box {
  background-color: var(--token-layer-surface) !important;
  border: 1px solid var(--token-border-subtle) !important;
  color: var(--token-text-primary) !important;
}

/* Created By Section (SaveQuote Modal) */
.dark-mode .background-gray-light {
  background-color: var(--token-layer-surface) !important;
  border: 1px solid var(--token-border-subtle) !important;
  color: var(--token-text-primary) !important;
}

/* Sticky Table Cells - Actions Column (QuotesList) */
.dark-mode .sticky-table-header {
  background-color: var(--token-layer-surface) !important;
  border-left: 1px solid var(--token-border-subtle) !important;
}

.dark-mode .sticky-table-cell {
  background-color: var(--token-layer-surface) !important;
  border-left: 1px solid var(--token-border-subtle) !important;
}

/* Legacy inline style overrides */
.dark-mode .slds-m-top_medium[style*="backgroundColor"],
.dark-mode .slds-m-top_medium[style*="background-color"] {
  background-color: var(--token-layer-surface) !important;
  border: 1px solid var(--token-border-subtle) !important;
}

/* Created By Section (SaveQuote Modal) */
.dark-mode .slds-form-element[style*="backgroundColor: #f3f2f2"],
.dark-mode .slds-form-element[style*="background-color: #f3f2f2"],
.dark-mode .slds-form-element[style*="backgroundColor:#f3f2f2"],
.dark-mode .slds-form-element[style*="background-color:#f3f2f2"] {
  background-color: var(--token-layer-surface) !important;
  border: 1px solid var(--token-border-subtle) !important;
}

.dark-mode .slds-form-element[style*="backgroundColor: #f3f2f2"] .slds-form-element__label,
.dark-mode .slds-form-element[style*="background-color: #f3f2f2"] .slds-form-element__label {
  color: var(--token-text-primary) !important;
}

.dark-mode .slds-form-element[style*="backgroundColor: #f3f2f2"] .slds-form-element__control,
.dark-mode .slds-form-element[style*="background-color: #f3f2f2"] .slds-form-element__control {
  color: var(--token-text-primary) !important;
  background-color: transparent !important;
}

.dark-mode .slds-form-element[style*="backgroundColor: #f3f2f2"] .slds-form-element__control[style*="fontWeight"],
.dark-mode .slds-form-element[style*="background-color: #f3f2f2"] .slds-form-element__control[style*="font-weight"] {
  color: var(--token-text-primary) !important;
}

/* ============================================
   SLDS Toggle Switches (Constants UI Preferences)
   ============================================ */
.dark-mode .slds-checkbox_toggle .slds-form-element__label,
[data-carbon-theme="g100"] .slds-checkbox_toggle .slds-form-element__label {
  color: var(--token-text-primary) !important;
}

.dark-mode .slds-checkbox_faux_container,
[data-carbon-theme="g100"] .slds-checkbox_faux_container {
  background-color: transparent !important;
}

.dark-mode .slds-checkbox_faux,
[data-carbon-theme="g100"] .slds-checkbox_faux {
  background-color: var(--token-border-strong) !important;
  border-color: var(--token-border-strong) !important;
}

.dark-mode input:checked ~ .slds-checkbox_faux_container .slds-checkbox_faux,
[data-carbon-theme="g100"] input:checked ~ .slds-checkbox_faux_container .slds-checkbox_faux {
  background-color: var(--token-interactive-brand) !important;
  border-color: var(--token-interactive-brand) !important;
}

.dark-mode .slds-checkbox_on,
.dark-mode .slds-checkbox_off,
[data-carbon-theme="g100"] .slds-checkbox_on,
[data-carbon-theme="g100"] .slds-checkbox_off {
  color: var(--token-text-primary) !important;
}

/* Ensure toggle labels are visible */
.dark-mode .slds-form-element__label.slds-m-bottom_none,
[data-carbon-theme="g100"] .slds-form-element__label.slds-m-bottom_none {
  color: var(--token-text-primary) !important;
  font-weight: 500;
}

/* Helper text for toggles */
.dark-mode .helper-text.slds-m-top_x-small,
[data-carbon-theme="g100"] .helper-text.slds-m-top_x-small {
  color: var(--token-text-secondary) !important;
}

/* Carbon Toast Notifications - Ensure visibility in dark mode */
.dark-mode .cds--toast-notification,
.dark-mode .cds--inline-notification,
[data-carbon-theme="g100"] .cds--toast-notification,
[data-carbon-theme="g100"] .cds--inline-notification {
  background-color: var(--token-layer-01) !important;
  border-color: var(--token-border-subtle) !important;
}

.dark-mode .cds--toast-notification__title,
.dark-mode .cds--toast-notification__subtitle,
.dark-mode .cds--inline-notification__title,
.dark-mode .cds--inline-notification__subtitle,
[data-carbon-theme="g100"] .cds--toast-notification__title,
[data-carbon-theme="g100"] .cds--toast-notification__subtitle,
[data-carbon-theme="g100"] .cds--inline-notification__title,
[data-carbon-theme="g100"] .cds--inline-notification__subtitle {
  color: var(--token-text-primary) !important;
}

.dark-mode .cds--toast-notification__close-button,
.dark-mode .cds--inline-notification__close-button,
[data-carbon-theme="g100"] .cds--toast-notification__close-button,
[data-carbon-theme="g100"] .cds--inline-notification__close-button {
  color: var(--token-text-secondary) !important;
}

.dark-mode .cds--toast-notification__close-button:hover,
.dark-mode .cds--inline-notification__close-button:hover,
[data-carbon-theme="g100"] .cds--toast-notification__close-button:hover,
[data-carbon-theme="g100"] .cds--inline-notification__close-button:hover {
  background-color: var(--token-layer-hover) !important;
  color: var(--token-text-primary) !important;
}

/* NotificationModal - Ensure text is readable in dark mode */
.dark-mode .notification-message-text {
  color: var(--token-text-primary) !important;
}

/* ============================================
   14. LOGIN PAGE (email/password) — dark focus
   ============================================ */
/* Keep inputs dark on focus and ensure readable text */
.dark-mode .auth-container .slds-input,
[data-carbon-theme="g100"] .auth-container .slds-input {
  background-color: var(--token-layer-background) !important;
  border: 1px solid var(--token-border-strong) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .auth-container .slds-input:focus,
[data-carbon-theme="g100"] .auth-container .slds-input:focus {
  background-color: var(--token-layer-background) !important; /* prevent white flash */
  border-color: var(--token-interactive) !important;
  color: var(--token-text-primary) !important;
  box-shadow: 0 0 0 2px var(--token-focus-ring) !important;
}

.dark-mode .auth-container .slds-input::placeholder,
[data-carbon-theme="g100"] .auth-container .slds-input::placeholder {
  color: var(--token-text-placeholder) !important;
}

/* Override autofill background in Chromium-based browsers */
.dark-mode .auth-container input.slds-input:-webkit-autofill,
.dark-mode .auth-container input.slds-input:-webkit-autofill:focus,
[data-carbon-theme="g100"] .auth-container input.slds-input:-webkit-autofill,
[data-carbon-theme="g100"] .auth-container input.slds-input:-webkit-autofill:focus {
  -webkit-text-fill-color: var(--token-text-primary) !important;
  caret-color: var(--token-text-primary) !important;
  transition: background-color 9999s ease-in-out 0s;
  box-shadow: 0 0 0 1000px var(--token-layer-background) inset !important;
  -webkit-box-shadow: 0 0 0 1000px var(--token-layer-background) inset !important;
}

/* ============================================
   15. GLOBAL SETTINGS — Row Visibility/Order
   ============================================ */
/* Scope to Admin > GlobalSettings container */
.dark-mode .slds-p-around_medium .slds-box,
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box {
  background-color: var(--token-layer-surface) !important;
  border: 1px solid var(--token-border-subtle) !important;
  color: var(--token-text-primary) !important;
}

/* Section titles */
.dark-mode .slds-p-around_medium .slds-text-heading_small,
[data-carbon-theme="g100"] .slds-p-around_medium .slds-text-heading_small {
  color: var(--token-text-primary) !important;
}

/* Row Visibility scroll box (inline style background #fafafa) */
.dark-mode .slds-p-around_medium .slds-box div[style*="background: #fafafa"],
.dark-mode .slds-p-around_medium .slds-box div[style*="background-color: #fafafa"],
[class][data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="background: rgb(250, 250, 250)"],
[class][data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="background-color: rgb(250, 250, 250)"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="background: #fafafa"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="background-color: #fafafa"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="background: rgb(250, 250, 250)"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="background-color: rgb(250, 250, 250)"] {
  background-color: var(--token-layer-background) !important;
  border-color: var(--token-border-subtle) !important;
}

/* Row Display Order scroll box (inline style background #fafaf9) */
.dark-mode .slds-p-around_medium .slds-box div[style*="background: #fafaf9"],
.dark-mode .slds-p-around_medium .slds-box div[style*="background-color: #fafaf9"],
[class][data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="background: rgb(250, 250, 249)"],
[class][data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="background-color: rgb(250, 250, 249)"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="background: #fafaf9"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="background-color: #fafaf9"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="background: rgb(250, 250, 249)"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="background-color: rgb(250, 250, 249)"] {
  background-color: var(--token-layer-background) !important;
  border-color: var(--token-border-subtle) !important;
}

/* Each row chip (white bg inline) */
.dark-mode .slds-p-around_medium .slds-box div[style*="background: white"],
.dark-mode .slds-p-around_medium .slds-box div[style*="background-color: white"],
.dark-mode .slds-p-around_medium .slds-box div[style*="backgroundColor: white"],
[class][data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="background: rgb(255, 255, 255)"],
[class][data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="background-color: rgb(255, 255, 255)"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="background: white"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="background-color: white"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="backgroundColor: white"] {
  background-color: var(--token-layer-surface) !important;
  border-color: var(--token-border-subtle) !important;
}

/* Hidden rows (inline #f3f2f2) */
.dark-mode .slds-p-around_medium .slds-box div[style*="background: #f3f2f2"],
.dark-mode .slds-p-around_medium .slds-box div[style*="background-color: #f3f2f2"],
.dark-mode .slds-p-around_medium .slds-box div[style*="backgroundColor: #f3f2f2"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="background: #f3f2f2"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="background-color: #f3f2f2"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box div[style*="backgroundColor: #f3f2f2"] {
  background-color: #1e1e1e !important;
  border-color: var(--token-border-subtle) !important;
}

/* Row numbers/labels text */
.dark-mode .slds-p-around_medium .slds-box span[style*="color: #706e6b"],
.dark-mode .slds-p-around_medium .slds-box span[style*="color: #080707"],
.dark-mode .slds-p-around_medium .slds-box span[style*="color:#080707"],
.dark-mode .slds-p-around_medium .slds-box span[style*="color: rgb(8, 7, 7)"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box span[style*="color: #706e6b"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box span[style*="color: #080707"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box span[style*="color:#080707"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box span[style*="color: rgb(8, 7, 7)"] {
  color: var(--token-text-primary) !important;
}

/* (Hidden) text */
.dark-mode .slds-p-around_medium .slds-box span[style*="color: #999"],
.dark-mode .slds-p-around_medium .slds-box span[style*="color:#999"],
.dark-mode .slds-p-around_medium .slds-box span[style*="color: rgb(153, 153, 153)"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box span[style*="color: #999"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box span[style*="color:#999"],
[data-carbon-theme="g100"] .slds-p-around_medium .slds-box span[style*="color: rgb(153, 153, 153)"] {
  color: var(--token-text-secondary) !important;
}

/* Up/Down neutral buttons beside each row */
.dark-mode .slds-p-around_medium .slds-button.slds-button_neutral,
[data-carbon-theme="g100"] .slds-p-around_medium .slds-button.slds-button_neutral {
  background-color: var(--token-layer-surface) !important;
  border: 1px solid var(--token-border-strong) !important;
  color: var(--token-text-primary) !important;
}

.dark-mode .slds-p-around_medium .slds-button.slds-button_neutral:hover:not(:disabled),
[data-carbon-theme="g100"] .slds-p-around_medium .slds-button.slds-button_neutral:hover:not(:disabled) {
  background-color: var(--token-layer-active) !important;
}

.dark-mode .slds-p-around_medium .slds-button.slds-button_neutral:disabled,
[data-carbon-theme="g100"] .slds-p-around_medium .slds-button.slds-button_neutral:disabled {
  opacity: 0.45;
}

/* Checkbox label + faux box */
.dark-mode .slds-p-around_medium .slds-checkbox__label .slds-form-element__label,
[data-carbon-theme="g100"] .slds-p-around_medium .slds-checkbox__label .slds-form-element__label {
  color: var(--token-text-primary) !important;
}

.dark-mode .slds-p-around_medium .slds-checkbox_faux,
[data-carbon-theme="g100"] .slds-p-around_medium .slds-checkbox_faux {
  background-color: var(--token-layer-background) !important;
  border: 1px solid var(--token-border-strong) !important;
}

.dark-mode .slds-p-around_medium input:checked ~ .slds-checkbox__label .slds-checkbox_faux,
[data-carbon-theme="g100"] .slds-p-around_medium input:checked ~ .slds-checkbox__label .slds-checkbox_faux {
  background-color: var(--token-interactive-brand) !important;
  border-color: var(--token-interactive-brand) !important;
}

/* Tabs bar underline */
.dark-mode .slds-p-around_medium div[style*="border-bottom: 2px solid #e5e5e5"],
.dark-mode .slds-p-around_medium div[style*="border-bottom:2px solid #e5e5e5"],
.dark-mode .slds-p-around_medium div[style*="border-bottom: 2px solid rgb(229, 229, 229)"],
.dark-mode .slds-p-around_medium div[style*="border-bottom:2px solid rgb(229,229,229)"],
[data-carbon-theme="g100"] .slds-p-around_medium div[style*="border-bottom: 2px solid #e5e5e5"],
[data-carbon-theme="g100"] .slds-p-around_medium div[style*="border-bottom:2px solid #e5e5e5"],
[data-carbon-theme="g100"] .slds-p-around_medium div[style*="border-bottom: 2px solid rgb(229, 229, 229)"],
[data-carbon-theme="g100"] .slds-p-around_medium div[style*="border-bottom:2px solid rgb(229,229,229)"] {
  border-bottom-color: var(--token-border-subtle) !important;
}

/* Remove faint light borders above sections within Global Settings */
.dark-mode .slds-p-around_medium [style*="border-top: 1px solid #e5e5e5"],
.dark-mode .slds-p-around_medium [style*="border-top:1px solid #e5e5e5"],
.dark-mode .slds-p-around_medium [style*="border-top: 1px solid #dddbda"],
.dark-mode .slds-p-around_medium [style*="border-top:1px solid #dddbda"],
.dark-mode .slds-p-around_medium [style*="border: 1px solid #c9c7c5"],
.dark-mode .slds-p-around_medium [style*="border:1px solid #c9c7c5"],
[data-carbon-theme="g100"] .slds-p-around_medium [style*="border-top: 1px solid #e5e5e5"],
[data-carbon-theme="g100"] .slds-p-around_medium [style*="border-top:1px solid #e5e5e5"],
[data-carbon-theme="g100"] .slds-p-around_medium [style*="border-top: 1px solid #dddbda"],
[data-carbon-theme="g100"] .slds-p-around_medium [style*="border-top:1px solid #dddbda"],
[data-carbon-theme="g100"] .slds-p-around_medium [style*="border: 1px solid #c9c7c5"],
[data-carbon-theme="g100"] .slds-p-around_medium [style*="border:1px solid #c9c7c5"] {
  border-color: var(--token-border-subtle) !important;
}

